!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.Dutier=t.Dutier||{})}(this,function(t){"use strict";var e={_reducers:[],_handlers:[],_updateState:function(){}},n=function(t){return function(t){var t=Object.assign({},t);return function(e){return t=Object.assign({},t,e)}}(t)},r=function(t){return new Promise(function(n,r){e._reducers.forEach(function(r){new Promise(function(n){return r.call(null,n,e._updateState({}),t)}).then(function(r){JSON.stringify(r)!==JSON.stringify(e._updateState({}))&&n({type:t.type,state:e._updateState(r)})})})})},u=function(t){var n=t.type,r=t.state;return e._handlers.forEach(function(t){void 0!==t&&"function"==typeof t&&t({type:n,state:r})}),{type:n,state:r}},i=function(t){e._handlers.forEach(function(n,r){n===t&&e._handlers.splice(r,1)})};t.createStore=function(t){for(var r=arguments.length,u=Array(r>1?r-1:0),i=1;i<r;i++)u[i-1]=arguments[i];e._reducers=[].concat(u),e._updateState=n(t)},t.dispatch=function(t){return Promise.resolve(t).then(r).then(u)},t.getState=function(){return e._updateState({})},t.combine=function(){var t;(t=e._reducers).push.apply(t,arguments)},t.subscribe=function(t){return e._handlers.push(t),function(){i(t)}},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=dutier.min.js.map
